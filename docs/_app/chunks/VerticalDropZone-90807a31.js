var de=Object.defineProperty,fe=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var G=(s,t,e)=>t in s?de(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,X=(s,t)=>{for(var e in t||(t={}))ue.call(t,e)&&G(s,e,t[e]);if(j)for(var e of j(t))me.call(t,e)&&G(s,e,t[e]);return s},E=(s,t)=>fe(s,he(t));import{S as ge,i as pe,K as ye,e as ee,k as be,c as te,a as ne,m as xe,d as W,b as Y,W as F,g as ie,J as _e,N as ze,G as we,H as Se,I as ve,r as se,p as oe,o as Ce,X as Te,q as Le,w as Ye,F as Ze,Y as De,U as J}from"./index-f826c306.js";var M=(s=>(s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s))(M||{}),I=(s=>(s[s.Programatic=0]="Programatic",s[s.User=1]="User",s))(I||{});function K(s,t,e){const o=s.slice();return o[23]=t[e],o[24]=t,o[25]=e,o}const Ie=s=>({index:s&128,drag:s&194}),Q=s=>{var t;return{index:s[25],drag:((t=s[6])==null?void 0:t.sourceIndex)===s[25]&&s[6].sourceZone.id===s[1]?s[6]:void 0}};function $(s,t){let e,o,f,m,d=t[25],p,c,l;const x=t[16].default,S=Ze(x,t,t[15],Q),B=()=>t[17](e,d),H=()=>t[17](null,d);function O(...i){return t[18](t[25],...i)}return{key:s,first:null,c(){e=ee("div"),S&&S.c(),o=be(),this.h()},l(i){e=te(i,"DIV",{"data-dnditem":!0,class:!0,style:!0});var h=ne(e);S&&S.l(h),o=xe(h),h.forEach(W),this.h()},h(){var i;Y(e,"data-dnditem",""),Y(e,"class",f=F(`${t[3]} ${((i=t[6])==null?void 0:i.sourceIndex)===t[25]?`dragging ${t[6].type===I.User?"user":"prog"}`:""}`)+" svelte-14r67b8"),Y(e,"style",m=`${t[0].direction===M.Vertical?"height":"width"}: ${t[2]}px;`),this.first=e},m(i,h){ie(i,e,h),S&&S.m(e,null),_e(e,o),B(),p=!0,c||(l=ze(e,"mousedown",O),c=!0)},p(i,h){var R;t=i,S&&S.p&&(!p||h&32962)&&we(S,x,t,t[15],p?ve(x,t[15],h,Ie):Se(t[15]),Q),(!p||h&200&&f!==(f=F(`${t[3]} ${((R=t[6])==null?void 0:R.sourceIndex)===t[25]?`dragging ${t[6].type===I.User?"user":"prog"}`:""}`)+" svelte-14r67b8"))&&Y(e,"class",f),(!p||h&5&&m!==(m=`${t[0].direction===M.Vertical?"height":"width"}: ${t[2]}px;`))&&Y(e,"style",m),d!==t[25]&&(H(),d=t[25],B())},i(i){p||(se(S,i),p=!0)},o(i){oe(S,i),p=!1},d(i){i&&W(e),S&&S.d(i),H(),c=!1,l()}}}function Me(s){let t,e=[],o=new Map,f,m,d=s[7];const p=c=>c[5](c[25]);for(let c=0;c<d.length;c+=1){let l=K(s,d,c),x=p(l);o.set(x,e[c]=$(x,l))}return{c(){t=ee("div");for(let c=0;c<e.length;c+=1)e[c].c();this.h()},l(c){t=te(c,"DIV",{"data-dndzone":!0,class:!0});var l=ne(t);for(let x=0;x<e.length;x+=1)e[x].l(l);l.forEach(W),this.h()},h(){Y(t,"data-dndzone",""),Y(t,"class",f=F(`${s[4]} ${s[0].containerClass}`)+" svelte-14r67b8")},m(c,l){ie(c,t,l);for(let x=0;x<e.length;x+=1)e[x].m(t,null);s[19](t),m=!0},p(c,[l]){l&33263&&(d=c[7],Ce(),e=Te(e,l,p,1,c,d,o,t,De,$,null,K),Le()),(!m||l&17&&f!==(f=F(`${c[4]} ${c[0].containerClass}`)+" svelte-14r67b8"))&&Y(t,"class",f)},i(c){if(!m){for(let l=0;l<d.length;l+=1)se(e[l]);m=!0}},o(c){for(let l=0;l<e.length;l+=1)oe(e[l]);m=!1},d(c){c&&W(t);for(let l=0;l<e.length;l+=1)e[l].d();s[19](null)}}}const Be="[data-dndhandle]",D=new Array;let A=!1,L;function He(s,t){for(let e=0;e<D.length;++e){const o=D[e];if(o.insideBounding(s,t))return o}}function Oe(s,t,e){let{$$slots:o={},$$scope:f}=t,{id:m}=t,{itemCount:d}=t,{itemSize:p}=t,{type:c}=t,{onDrop:l}=t,{priority:x=1}=t,{itemClass:S=""}=t,{zoneClass:B=""}=t,{keyFn:H=n=>n}=t,{useHandle:O=!1}=t;const i=new c(m,x,d,p);let h,R=new Array(d);Ye(()=>(i.styleContainerBaseStyle(),D.push(i),D.sort((n,a)=>a.priority-n.priority),()=>{D.splice(D.findIndex(n=>n===i),1)}));function P(n,a){if(n.button!==0||O&&n.target.closest(Be)===null)return;A=!0,document.addEventListener("mousemove",V),document.addEventListener("mouseup",q),document.body.style.cursor="grabbing";const u=i.items[a],r=u.getBoundingClientRect(),y=document.createElement("div");y.style.cssText=i.placeholderStyleStr(),y.setAttribute("data-dndplaceholder",""),i.el.appendChild(y),h!==void 0&&k(),e(6,h={type:I.User,el:u,placeholder:y,resetZones:new Set([i]),sourceIndex:a,hoverIndex:void 0,sourceZone:i,destZone:i,bounding:{dragLeft:n.pageX-r.left,dragTop:n.pageY-r.top,left:r.left,top:r.top,bottom:r.bottom,right:r.right,height:r.height,width:r.width},onMoveResolve:void 0}),V(n)}function V(n){A&&(L&&cancelAnimationFrame(L),L=requestAnimationFrame(()=>{L=void 0;const a=h,{el:u,sourceZone:r,sourceIndex:y,bounding:T}=a,_=n.pageX,v=n.pageY,z=n.clientX-(T.dragLeft+T.left)+-r.el.scrollLeft+r.dragXOffset(y),C=n.clientY-(T.dragTop+T.top)+-r.el.scrollTop+r.dragYOffset(y);let g=He(_,v);if(g===r){const w=g!==a.destZone;w&&a.destZone!==void 0&&a.destZone.styleDestReset();const b=g.pointIndex(_,v);(b!==a.hoverIndex||w)&&(g.styleSourceMove(b,y,a.hoverIndex!==void 0),e(6,h=E(X({},h),{hoverIndex:b,destZone:g}))),u.style.cssText=`z-index:1000; pointer-events:none; cursor:grabbing; height:${r.itemHeight()}px; width:${r.itemWidth()}px; transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1); position:fixed; transform:translate(${z}px,${C}px)`}else{const w=g!==a.destZone;if(w&&(a.destZone===r?a.destZone.styleSourceMissing(y):a.destZone!==void 0&&a.destZone.styleDestReset()),g!==void 0){w&&a.resetZones.add(g);const b=g.pointIndex(_,v);(b!==a.hoverIndex||w)&&(g.styleDestMove(b),e(6,h=E(X({},h),{hoverIndex:b,destZone:g}))),u.style.cssText=`z-index:1000; pointer-events: none; cursor:grabbing; position:fixed; height:${g.itemHeight()}px; width:${g.itemWidth()}px; transition: height 0.2s cubic-bezier(0.2, 0, 0, 1); transform:translate(${z}px,${C}px); transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}else w&&e(6,h=E(X({},h),{hoverIndex:-1,destZone:void 0})),u.style.cssText=`z-index:1000; pointer-events:none; cursor:grabbing; position:fixed; transform:translate(${z}px,${C}px); height:${a.sourceZone.itemHeight()}px; width:${a.sourceZone.itemWidth()}px;  transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}}))}function q(n){var w;if(!A)return;A=!1,L&&cancelAnimationFrame(L);const{el:a,destZone:u,sourceZone:r,sourceIndex:y}=h,T=(w=h.hoverIndex)!=null?w:y;a.addEventListener("transitionend",k),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",q),document.body.style.cursor="";let _,v,z,C,g=!1;if(u===r){let b=0,Z=0;const{count:U,direction:N}=r;T===U&&(N===M.Vertical?Z=-1:N===M.Horizontal&&(b=-1)),_=r.dragXOffset(T+b)-r.el.scrollLeft-window.scrollX,v=r.dragYOffset(T+Z)-r.el.scrollTop-window.scrollY,z=r.itemHeight(),C=r.itemWidth(),g=a.style.transform===`translate(${_}px, ${v}px)`||a.style.transform===""}else if(u!==void 0){const b=u.el.getBoundingClientRect(),Z=r.el.getBoundingClientRect();_=b.left-Z.left+u.dragXOffset(T,u.count+1)-u.el.scrollLeft-window.scrollX,v=b.top-Z.top+u.dragYOffset(T,u.count+1)-u.el.scrollTop-window.scrollY,z=u.itemHeight(),C=u.itemWidth()}else _=r.dragXOffset(y)-r.el.scrollLeft-window.scrollX,v=r.dragYOffset(y)-r.el.scrollTop-window.scrollY,z=r.itemHeight(),C=r.itemWidth(),r.styleSourceMove(y,y,!0);a.style.cssText=`z-index:1000; position:fixed; height:${z}px; width:${C}px; transform:translate(${_}px,${v}px); transition:transform 0.2s cubic-bezier(0.2,0,0,1), height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`,g&&k()}function k(n){var g,w;const{el:a,destZone:u,sourceZone:r,sourceIndex:y,resetZones:T,placeholder:_}=h,v=(g=h.hoverIndex)!=null?g:y;if(n&&n.target!==a)return;L&&cancelAnimationFrame(L),L=void 0;const z={dropZoneID:r.id,index:y},C=u?{dropZoneID:u.id,index:v}:void 0;l({from:z,to:C}),r.el.removeChild(_),T.forEach(b=>b.styleRemove()),a.removeEventListener("transitionend",k),(w=h.onMoveResolve)==null||w.call(h),e(6,h=void 0)}async function re(n,a,u,r=500){return new Promise((y,T)=>{if(h!==void 0){y();return}const _=i.items[n];if(!_){y();return}{const C=i.dragXOffset(n),g=i.dragYOffset(n),w=i.itemHeight(),b=i.itemWidth();_.style.cssText=`z-index:1000; height:${w}px; width:${b}px; position:fixed; transform:translate(${C}px,${g}px)`}const v=document.createElement("div");v.style.cssText=i.placeholderStyleStr(),v.setAttribute("data-dndplaceholder",""),i.el.appendChild(v),i.styleSourceMove(n,n,!1),setTimeout(()=>{(h==null?void 0:h.type)===I.Programatic&&i.styleSourceMissing(n)},r*.4),u.styleDestMove(a);const z=_.getBoundingClientRect();e(6,h={type:I.Programatic,el:_,placeholder:v,resetZones:new Set([i,u]),sourceIndex:n,hoverIndex:a,sourceZone:i,destZone:u,bounding:{dragLeft:0,dragTop:0,left:z.left,top:z.top,bottom:z.bottom,right:z.right,height:z.height,width:z.width},onMoveResolve:y});{const C=i.el.getBoundingClientRect(),g=u.el.getBoundingClientRect(),w=g.left-C.left+u.dragXOffset(a,u.count+1)-u.el.scrollLeft,b=g.top-C.top+u.dragYOffset(a,u.count+1)-u.el.scrollTop,Z=u.itemHeight(),U=u.itemWidth();_.style.cssText=`
                z-index: 1000; 
                position: fixed; 
                height: ${Z}px; 
                width: ${U}px; 
                transform: translate(${w}px,${b}px); 
                transition:
                    transform ${r}ms cubic-bezier(0.2, 0, 0, 1), 
                    height ${r}ms cubic-bezier(0.2, 0, 0, 1), 
                    width ${r}ms cubic-bezier(0.2, 0, 0, 1);`}_.addEventListener("transitionend",k)})}function le(n,a){J[n?"unshift":"push"](()=>{i.items[a]=n,e(0,i),e(1,m),e(9,d),e(2,p)})}const ae=(n,a)=>P(a,n);function ce(n){J[n?"unshift":"push"](()=>{i.el=n,e(0,i),e(1,m),e(9,d),e(2,p)})}return s.$$set=n=>{"id"in n&&e(1,m=n.id),"itemCount"in n&&e(9,d=n.itemCount),"itemSize"in n&&e(2,p=n.itemSize),"type"in n&&e(10,c=n.type),"onDrop"in n&&e(11,l=n.onDrop),"priority"in n&&e(12,x=n.priority),"itemClass"in n&&e(3,S=n.itemClass),"zoneClass"in n&&e(4,B=n.zoneClass),"keyFn"in n&&e(5,H=n.keyFn),"useHandle"in n&&e(13,O=n.useHandle),"$$scope"in n&&e(15,f=n.$$scope)},s.$$.update=()=>{s.$$.dirty&2&&e(0,i.id=m,i),s.$$.dirty&517&&(d!=i.count||p!==i.itemSize)&&(e(0,i.count=d,i),e(0,i.itemSize=p,i),e(7,R=new Array(d)),i.el&&i.styleContainerBaseStyle())},[i,m,p,S,B,H,h,R,P,d,c,l,x,O,re,f,o,le,ae,ce]}class Xe extends ge{constructor(t){super(),pe(this,t,Oe,Me,ye,{id:1,itemCount:9,itemSize:2,type:10,onDrop:11,priority:12,itemClass:3,zoneClass:4,keyFn:5,useHandle:13,dropzone:0,move:14})}get dropzone(){return this.$$.ctx[0]}get move(){return this.$$.ctx[14]}}class Ee{constructor(t,e,o,f){this.direction=M.Vertical,this.id=t,this.priority=o,this.count=e,this.itemSize=f,this.items=new Array(e),this.el=void 0,this.containerClass="vertical"}insideBounding(t,e){const o=this.el.getBoundingClientRect();return e>o.top&&e<o.bottom&&t>o.left&&t<o.right}pointIndex(t,e){const{el:o,itemSize:f,count:m}=this,p=o.getBoundingClientRect().top-o.scrollTop,c=Math.floor((e-p)/f);return Math.min(Math.max(c,0),m)}placeholderStyleStr(){return`height: ${this.itemSize}px; width: 100%;`}dragXOffset(t){return 0}dragYOffset(t){return t*this.itemSize}itemHeight(){return this.itemSize}itemWidth(){return this.el.clientWidth}styleSourceMove(t,e,o){const{items:f,itemSize:m}=this;for(let d=0;d<f.length;++d){const p=t>e&&(d<e||d>e&&d<=t)||t<e&&d<t||t==e&&d<e,c=t>e&&d>t||t<e&&(d>=t&&d<e||d>e)||t==e&&d>e,l=f[d];p?l&&(l.style.cssText=`transform: translateY(0px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${m}px;`):c&&(o?l&&(l.style.cssText=`transform: translateY(${m}px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${m}px;`):l&&(l.style.cssText=`transform: translateY(${m}px); height: ${m}px;`))}}styleSourceMissing(t){const{items:e,itemSize:o}=this;for(let f=0;f<e.length;++f)e[f]&&f!==t&&(e[f].style.cssText=`transform: translateY(0px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${o}px;`)}styleDestMove(t){const{items:e,itemSize:o}=this;for(let f=0;f<e.length;++f){const m=e[f];f<t?m&&(m.style.cssText=`transform: translateY(0px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${o}px;`):m&&(m.style.cssText=`transform: translateY(${o}px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${o}px;`)}}styleDestReset(){const{items:t,itemSize:e}=this;for(let o=0;o<t.length;++o)t[o]&&(t[o].style.cssText=`transform:translateY(0px); transition:transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${e}px;`)}styleRemove(){this.styleContainerBaseStyle()}styleContainerBaseStyle(){const{items:t,itemSize:e}=this;for(let o=0;o<t.length;++o){const f=t[o];f&&(f.style.cssText=`height: ${e}px;`)}}}export{M as D,Ee as V,Xe as a};
