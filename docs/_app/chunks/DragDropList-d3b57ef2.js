var Te=Object.defineProperty,He=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var ae=(s,e,t)=>e in s?Te(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,q=(s,e)=>{for(var t in e||(e={}))Ie.call(e,t)&&ae(s,t,e[t]);if(le)for(var t of le(e))ke.call(e,t)&&ae(s,t,e[t]);return s},j=(s,e)=>He(s,Oe(e));import{S as Ae,i as Me,K as Pe,W as L,e as ye,k as Ye,c as _e,a as we,m as Re,d as J,b as O,X as K,g as be,J as Xe,N as ce,G as Fe,H as Ue,I as We,q as xe,o as ze,Y as Be,n as Ne,Z as Ve,p as qe,_ as je,$ as Ge,v as Je,F as Ke,a0 as Qe,a1 as R,U as ue}from"./index-f8022b9b.js";import{w as $e}from"./index-0051cdc5.js";var G=(s=>(s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s))(G||{}),D=(s=>(s[s.Programatic=0]="Programatic",s[s.UserDrag=1]="UserDrag",s[s.UserCopy=2]="UserCopy",s))(D||{});function ft(s,e,t){const f=s.slice(),[l]=f.splice(e,1);return t>f.length?f.push(l):f.splice(t,0,l),f}function et(s,e,t){const f=window.innerHeight,l=window.innerWidth;if(s<t){const _=s/t*10;window.scrollBy(-(10-_),0)}else if(s>l-t){const _=(l-s)/t*10;window.scrollBy(10-_,0)}if(e<t){const _=e/t*10;window.scrollBy(0,-(10-_))}else if(e>f-t){const _=(f-e)/t*10;window.scrollBy(0,10-_)}}function fe(s,e,t){const f=s.slice();return f[34]=e[t],f[35]=e,f[36]=t,f}const tt=s=>({index:s[0]&32,drag:s[0]&130}),he=s=>{var e,t,f,l;return{index:s[36],drag:((t=(e=s[7])==null?void 0:e.sourceZone)==null?void 0:t.id)===s[1]||((l=(f=s[7])==null?void 0:f.destZone)==null?void 0:l.id)===s[1]?s[7]:void 0}};function ge(s,e){let t,f,l,_,Z=e[36],w,d,c;const x=e[20].default,z=Ke(x,e,e[19],he),W=()=>e[21](t,Z),B=()=>e[21](null,Z);function V(...y){return e[22](e[36],...y)}function X(...y){return e[23](e[36],...y)}return{key:s,first:null,c(){t=ye("div"),z&&z.c(),f=Ye(),this.h()},l(y){t=_e(y,"DIV",{"data-dnd-item":!0,"data-dnd-dragging":!0,class:!0,style:!0});var C=we(t);z&&z.l(C),f=Re(C),C.forEach(J),this.h()},h(){O(t,"data-dnd-item",""),O(t,"data-dnd-dragging",l=(i==null?void 0:i.sourceIndex)===e[36]&&(i==null?void 0:i.sourceZone.id)===e[1]||e[7]===null?!0:void 0),O(t,"class",_=K(e[2])+" svelte-5t9ew"),O(t,"style",e[6]),this.first=t},m(y,C){be(y,t,C),z&&z.m(t,null),Xe(t,f),W(),w=!0,d||(c=[ce(t,"mousedown",V),ce(t,"touchstart",X)],d=!0)},p(y,C){e=y,z&&z.p&&(!w||C[0]&524450)&&Fe(z,x,e,e[19],w?We(x,e[19],C,tt):Ue(e[19]),he),(!w||C[0]&162&&l!==(l=(i==null?void 0:i.sourceIndex)===e[36]&&(i==null?void 0:i.sourceZone.id)===e[1]||e[7]===null?!0:void 0))&&O(t,"data-dnd-dragging",l),(!w||C[0]&4&&_!==(_=K(e[2])+" svelte-5t9ew"))&&O(t,"class",_),(!w||C[0]&64)&&O(t,"style",e[6]),Z!==e[36]&&(B(),Z=e[36],W())},i(y){w||(xe(z,y),w=!0)},o(y){ze(z,y),w=!1},d(y){y&&J(t),z&&z.d(y),B(),d=!1,Be(c)}}}function nt(s){let e,t=[],f=new Map,l,_,Z=s[5];const w=d=>d[4](d[36]);for(let d=0;d<Z.length;d+=1){let c=fe(s,Z,d),x=w(c);f.set(x,t[d]=ge(x,c))}return{c(){e=ye("div");for(let d=0;d<t.length;d+=1)t[d].c();this.h()},l(d){e=_e(d,"DIV",{"data-dnd-zone":!0,class:!0});var c=we(e);for(let x=0;x<t.length;x+=1)t[x].l(c);c.forEach(J),this.h()},h(){O(e,"data-dnd-zone",""),O(e,"class",l=K(`${s[3]} ${s[0].containerClass}`)+" svelte-5t9ew")},m(d,c){be(d,e,c);for(let x=0;x<t.length;x+=1)t[x].m(e,null);s[24](e),_=!0},p(d,c){c[0]&525303&&(Z=d[5],Ne(),t=Ve(t,c,w,1,d,Z,f,e,Qe,ge,null,fe),qe()),(!_||c[0]&9&&l!==(l=K(`${d[3]} ${d[0].containerClass}`)+" svelte-5t9ew"))&&O(e,"class",l)},i(d){if(!_){for(let c=0;c<Z.length;c+=1)xe(t[c]);_=!0}},o(d){for(let c=0;c<t.length;c+=1)ze(t[c]);_=!1},d(d){d&&J(e);for(let c=0;c<t.length;c+=1)t[c].d();s[24](null)}}}const st="data-dnd-zone",it=`[${st}]`,me="[data-dnd-handle]",ot="data-dnd-copy",rt="data-dnd-placeholder",pe=5,N=new Array;let T,i,H;const M=$e(void 0);function dt(s,e){var f;const t=(f=document.elementFromPoint(s,e))==null?void 0:f.closest(it);return t?N.find(l=>l.el===t):void 0}function lt(s,e,t){let f,l;je(s,M,n=>t(7,l=n));let{$$slots:_={},$$scope:Z}=e,{id:w}=e,{itemCount:d}=e,{itemSize:c}=e,{type:x}=e,{priority:z=1}=e,{itemClass:W=""}=e,{zoneClass:B=""}=e,{keyFn:V=n=>n}=e,{useHandle:X=!1}=e,{allowDrag:y=()=>!0}=e,{copy:C=!1}=e;const o=new x(w,z,d,c),ve=Ge();let Q=new Array(d);Je(()=>(o.styleContainerBaseStyle(),N.push(o),N.sort((n,r)=>r.priority-n.priority),()=>{N.splice(N.findIndex(n=>n===o),1)}));function $(n,r){n.button!==0||!y(r)||X&&n.target.closest(me)===null||(document.addEventListener("mousemove",ne),document.addEventListener("mouseup",oe),te({pageX:n.pageX,pageY:n.pageY},r))}function ee(n,r){!y(r)||X&&n.target.closest(me)===null||(document.addEventListener("touchmove",se),document.addEventListener("touchend",re),te({pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},r))}function te({pageX:n,pageY:r},a){const m=o.items[a],g=m.getBoundingClientRect();T={el:m,initPageX:n,initPageY:r,sourceIndex:a,dragLeft:n-g.left,dragTop:r-g.top,sourceZone:o}}function ne(n){ie(n)}function se(n){ie({pageX:n.touches[0].pageX,pageY:n.touches[0].pageY,clientX:n.touches[0].clientX,clientY:n.touches[0].clientY})}function ie({pageX:n,pageY:r,clientX:a,clientY:m}){if(i===void 0&&(Math.abs(n-T.initPageX)>pe||Math.abs(r-T.initPageY)>pe)){i&&F();const g=new Set([o]);let u,h,p;C?(p=D.UserCopy,h=T.el.cloneNode(!0),h.setAttribute(ot,""),document.body.appendChild(h)):(p=D.UserDrag,h=T.el,u=document.createElement("div"),u.style.cssText=o.placeholderStyleStr(),u.setAttribute(rt,""),o.el.appendChild(u)),i={type:p,el:h,placeholder:u,resetZones:g,sourceIndex:T.sourceIndex,hoverIndex:void 0,sourceZone:T.sourceZone,destZone:o,dragLeft:T.dragLeft-window.scrollX,dragTop:T.dragTop-window.scrollY,onResolve:void 0},R(M,l=i,l),T=void 0,document.body.style.cursor="grabbing"}if(i){H&&cancelAnimationFrame(H);const g=()=>{H=void 0;const u=i,{el:h,sourceZone:p,sourceIndex:v,dragLeft:S,dragTop:E}=u,I=a-S,k=m-E,A=n-window.scrollX,U=r-window.scrollY;let b=dt(A,U);if(b===p){const P=b!==u.destZone;P&&u.destZone!==void 0&&u.destZone.styleDestReset();const Y=b.pointIndex(A,U);u.type===D.UserDrag&&(Y!==u.hoverIndex||P)&&(b.styleSourceMove(Y,v,u.hoverIndex!==void 0),i=j(q({},i),{hoverIndex:Y,destZone:b}),R(M,l=i,l)),h.style.cssText=`
						position: fixed;
						top: 0;
						left: 0;
						z-index:1000;
						pointer-events:none;
						cursor:grabbing;
						height:${p.itemHeight()}px;
						width:${p.itemWidth()}px; 
						transform:translate(${I}px,${k}px);
						transition: 
							height 0.2s cubic-bezier(0.2, 0, 0, 1), 
							width 0.2s cubic-bezier(0.2, 0, 0, 1);
						`}else{const P=b!==u.destZone;if(P&&(u.type===D.UserDrag&&u.destZone===p?u.destZone.styleSourceMissing(v):u.destZone!==void 0&&u.destZone.styleDestReset()),b!==void 0){P&&u.resetZones.add(b);const Y=b.pointIndex(A,U);(Y!==u.hoverIndex||P)&&(b.styleDestMove(Y),i=j(q({},i),{hoverIndex:Y,destZone:b}),R(M,l=i,l)),h.style.cssText=`
							position: fixed;
							top: 0;
							left: 0;
							z-index:1000;
							pointer-events: none;
							cursor: grabbing;
							height: ${b.itemHeight()}px;
							width: ${b.itemWidth()}px;
							transform: translate(${I}px,${k}px);
							transition: 
								height 0.2s cubic-bezier(0.2, 0, 0, 1), 
								width 0.2s cubic-bezier(0.2, 0, 0, 1);
						`}else P&&(i=j(q({},i),{hoverIndex:-1,destZone:void 0}),R(M,l=i,l)),h.style.cssText=`
							position: fixed;
							top: 0;
							left: 0;
							z-index: 1000;
							pointer-events: none;
							cursor: grabbing;
							height: ${u.sourceZone.itemHeight()}px;
							width: ${u.sourceZone.itemWidth()}px;
							transform: translate(${I}px,${k}px);
							transition:
								height 0.2s cubic-bezier(0.2, 0, 0, 1), 
								width 0.2s cubic-bezier(0.2, 0, 0, 1);
						`}et(a,m,120),b==null||b.scrollContainer(A,U),H=requestAnimationFrame(g)};H=requestAnimationFrame(g)}}function oe(n){document.removeEventListener("mousemove",ne),document.removeEventListener("mouseup",oe),i&&de()}function re(n){document.removeEventListener("touchmove",se),document.removeEventListener("touchend",re),i&&de()}function de(){var I;H&&cancelAnimationFrame(H);const{el:n,destZone:r,sourceZone:a,sourceIndex:m,type:g}=i,u=(I=i.hoverIndex)!=null?I:m;document.body.style.cursor="",n.addEventListener("transitionend",F);let h,p,v,S,E=!1;if(r===a&&g!==D.UserCopy){let k=0,A=0;const{count:U,direction:b}=a;u===U&&(b===G.Vertical?A=-1:b===G.Horizontal&&(k=-1)),h=a.dragXOffset(u+k),p=a.dragYOffset(u+A),v=a.itemHeight(),S=a.itemWidth(),E=n.style.transform===`translate(${h}px, ${p}px)`||n.style.transform===""}else r!==void 0&&r!==a?(h=r.dragXOffset(u,r.count+1),p=r.dragYOffset(u,r.count+1),v=r.itemHeight(),S=r.itemWidth()):(h=a.dragXOffset(m),p=a.dragYOffset(m),v=a.itemHeight(),S=a.itemWidth(),g!==D.UserCopy&&a.styleSourceMove(m,m,!0));n.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; position:fixed; height:${v}px; width:${S}px; transform:translate(${h}px,${p}px); transition:transform 0.2s cubic-bezier(0.2,0,0,1), height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`,E&&F()}function F(n){var I,k;const{el:r,destZone:a,sourceZone:m,sourceIndex:g,resetZones:u,placeholder:h,type:p}=i,v=(I=i.hoverIndex)!=null?I:g;if(r&&p===D.UserCopy&&r.remove(),n&&n.target!==r)return;H&&cancelAnimationFrame(H),H=void 0;const S={dropZoneID:m.id,index:g},E=a?a===m&&v===g?S:{dropZoneID:a.id,index:v}:void 0;ve("drop",{from:S,to:E}),h&&m.el.removeChild(h),u.forEach(A=>A.styleRemove()),r.removeEventListener("transitionend",F),(k=i.onResolve)==null||k.call(i),i=void 0,R(M,l=void 0,l)}async function Ce(n,r,a,m=500){return new Promise((g,u)=>{if(i!==void 0){g();return}const h=o.items[n];if(!h){g();return}{const p=o.dragXOffset(n),v=o.dragYOffset(n),S=o.itemHeight(),E=o.itemWidth();h.style.cssText=`z-index:1000; height:${S}px; width:${E}px; position:fixed; transform:translate(${p}px,${v}px)`}o.styleSourceMove(n,n,!1),a!==o?(setTimeout(()=>{(i==null?void 0:i.type)===D.Programatic&&o.styleSourceMissing(n)},m*.4),a.styleDestMove(r)):setTimeout(()=>{(i==null?void 0:i.type)===D.Programatic&&o.styleSourceMove(r,n,!0)},m*.25),i={type:D.Programatic,el:h,placeholder:void 0,resetZones:new Set([o,a]),sourceIndex:n,hoverIndex:r,sourceZone:o,destZone:a,dragLeft:0,dragTop:0,onResolve:g},R(M,l=i,l);{const p=a.dragXOffset(r,a.count+1),v=a.dragYOffset(r,a.count+1),S=a.itemHeight(),E=a.itemWidth();h.addEventListener("transitionend",F),h.style.cssText=`
                z-index: 1000; 
                position: fixed; 
				top:0; left: 0;
                height: ${S}px; 
                width: ${E}px; 
                transform: translate(${p}px,${v}px); 
                transition:
                    transform ${m}ms cubic-bezier(0.2, 0, 0, 1), 
                    height ${m}ms cubic-bezier(0.2, 0, 0, 1), 
                    width ${m}ms cubic-bezier(0.2, 0, 0, 1);`}})}async function Ze(n,r=500){return new Promise((a,m)=>{if(i!==void 0){a();return}const g=o.items[n];if(!g){a();return}g.style.cssText=`height:${o.itemHeight()}px; width:${o.itemWidth()}px; position:fixed; opacity: 1;`,o.styleSourceMove(n,n,!1),setTimeout(()=>{(i==null?void 0:i.type)===D.Programatic&&o.styleSourceMissing(n)},r*.4),i={type:D.Programatic,el:g,placeholder:void 0,resetZones:new Set([o]),sourceIndex:n,hoverIndex:n,sourceZone:o,destZone:void 0,dragLeft:0,dragTop:0,onResolve:a},R(M,l=i,l);{const u=o.dragXOffset(n,o.count+1),h=o.dragYOffset(n,o.count+1),p=o.itemHeight(),v=o.itemWidth();g.addEventListener("transitionend",F),g.style.cssText=`
                position: fixed; 
				top:0; left: 0;
                height: ${p}px; 
                width: ${v}px; 
				opacity: 0.6;
                transform: translate(${u}px,${h}px); 
                transition:
					opacity ${r}ms cubic-bezier(0.2, 0, 0, 1);
                    transform ${r}ms cubic-bezier(0.2, 0, 0, 1), 
                    height ${r}ms cubic-bezier(0.2, 0, 0, 1), 
                    width ${r}ms cubic-bezier(0.2, 0, 0, 1);`}})}function Se(n,r){ue[n?"unshift":"push"](()=>{o.items[r]=n,t(0,o),t(1,w),t(10,d),t(11,c)})}const De=(n,r)=>$(r,n),Le=(n,r)=>ee(r,n);function Ee(n){ue[n?"unshift":"push"](()=>{o.el=n,t(0,o),t(1,w),t(10,d),t(11,c)})}return s.$$set=n=>{"id"in n&&t(1,w=n.id),"itemCount"in n&&t(10,d=n.itemCount),"itemSize"in n&&t(11,c=n.itemSize),"type"in n&&t(12,x=n.type),"priority"in n&&t(13,z=n.priority),"itemClass"in n&&t(2,W=n.itemClass),"zoneClass"in n&&t(3,B=n.zoneClass),"keyFn"in n&&t(4,V=n.keyFn),"useHandle"in n&&t(14,X=n.useHandle),"allowDrag"in n&&t(15,y=n.allowDrag),"copy"in n&&t(16,C=n.copy),"$$scope"in n&&t(19,Z=n.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&2&&t(0,o.id=w,o),s.$$.dirty[0]&3073&&(d!=o.count||c!==o.itemSize)&&(t(0,o.count=d,o),t(0,o.itemSize=c,o),t(5,Q=new Array(d)),o.el&&o.styleContainerBaseStyle()),s.$$.dirty[0]&2049&&t(6,f=`${o.direction===G.Vertical?"height":"width"}: ${c}px;`)},[o,w,W,B,V,Q,f,l,$,ee,d,c,x,z,X,y,C,Ce,Ze,Z,_,Se,De,Le,Ee]}class ht extends Ae{constructor(e){super(),Me(this,e,lt,nt,Pe,{id:1,itemCount:10,itemSize:11,type:12,priority:13,itemClass:2,zoneClass:3,keyFn:4,useHandle:14,allowDrag:15,copy:16,dropzone:0,move:17,remove:18},null,[-1,-1])}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),L()}get itemCount(){return this.$$.ctx[10]}set itemCount(e){this.$$set({itemCount:e}),L()}get itemSize(){return this.$$.ctx[11]}set itemSize(e){this.$$set({itemSize:e}),L()}get type(){return this.$$.ctx[12]}set type(e){this.$$set({type:e}),L()}get priority(){return this.$$.ctx[13]}set priority(e){this.$$set({priority:e}),L()}get itemClass(){return this.$$.ctx[2]}set itemClass(e){this.$$set({itemClass:e}),L()}get zoneClass(){return this.$$.ctx[3]}set zoneClass(e){this.$$set({zoneClass:e}),L()}get keyFn(){return this.$$.ctx[4]}set keyFn(e){this.$$set({keyFn:e}),L()}get useHandle(){return this.$$.ctx[14]}set useHandle(e){this.$$set({useHandle:e}),L()}get allowDrag(){return this.$$.ctx[15]}set allowDrag(e){this.$$set({allowDrag:e}),L()}get copy(){return this.$$.ctx[16]}set copy(e){this.$$set({copy:e}),L()}get dropzone(){return this.$$.ctx[0]}get move(){return this.$$.ctx[17]}get remove(){return this.$$.ctx[18]}}export{ht as D,G as a,ft as r};
