var Ze=Object.defineProperty,Ce=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var se=(s,e,n)=>e in s?Ze(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,X=(s,e)=>{for(var n in e||(e={}))Se.call(e,n)&&se(s,n,e[n]);if(ie)for(var n of ie(e))Le.call(e,n)&&se(s,n,e[n]);return s},Y=(s,e)=>Ce(s,Ee(e));import{S as De,i as He,K as Te,W as D,e as fe,k as ke,c as he,a as ge,m as Ie,d as N,b as L,X as U,g as me,J as Me,N as oe,G as Oe,H as Fe,I as Ae,q as _e,o as pe,Y as Re,n as Pe,Z as We,p as Xe,_ as Ye,$ as Ve,v as Ne,F as Ue,a0 as qe,a1 as M,U as re}from"./index-f8022b9b.js";import{w as Be}from"./index-0051cdc5.js";var V=(s=>(s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s))(V||{}),R=(s=>(s[s.Programatic=0]="Programatic",s[s.User=1]="User",s))(R||{});function de(s,e,n){const g=s.slice();return g[31]=e[n],g[32]=e,g[33]=n,g}const Ge=s=>({index:s[0]&32,drag:s[0]&130}),ae=s=>{var e,n,g,u;return{index:s[33],drag:((n=(e=s[7])==null?void 0:e.sourceZone)==null?void 0:n.id)===s[1]||((u=(g=s[7])==null?void 0:g.destZone)==null?void 0:u.id)===s[1]?s[7]:void 0}};function le(s,e){let n,g,u,Z,x=e[33],m,d,l;const _=e[17].default,p=Ue(_,e,e[16],ae),O=()=>e[18](n,x),F=()=>e[18](null,x);function W(...i){return e[19](e[33],...i)}function I(...i){return e[20](e[33],...i)}return{key:s,first:null,c(){n=fe("div"),p&&p.c(),g=ke(),this.h()},l(i){n=he(i,"DIV",{"data-dnd-item":!0,"data-dnd-dragging":!0,class:!0,style:!0});var z=ge(n);p&&p.l(z),g=Ie(z),z.forEach(N),this.h()},h(){L(n,"data-dnd-item",""),L(n,"data-dnd-dragging",u=(r==null?void 0:r.sourceIndex)===e[33]&&(r==null?void 0:r.sourceZone.id)===e[1]||e[7]===null?!0:void 0),L(n,"class",Z=U(e[2])+" svelte-1h8tpti"),L(n,"style",e[6]),this.first=n},m(i,z){me(i,n,z),p&&p.m(n,null),Me(n,g),O(),m=!0,d||(l=[oe(n,"mousedown",W),oe(n,"touchstart",I)],d=!0)},p(i,z){e=i,p&&p.p&&(!m||z[0]&65698)&&Oe(p,_,e,e[16],m?Ae(_,e[16],z,Ge):Fe(e[16]),ae),(!m||z[0]&162&&u!==(u=(r==null?void 0:r.sourceIndex)===e[33]&&(r==null?void 0:r.sourceZone.id)===e[1]||e[7]===null?!0:void 0))&&L(n,"data-dnd-dragging",u),(!m||z[0]&4&&Z!==(Z=U(e[2])+" svelte-1h8tpti"))&&L(n,"class",Z),(!m||z[0]&64)&&L(n,"style",e[6]),x!==e[33]&&(F(),x=e[33],O())},i(i){m||(_e(p,i),m=!0)},o(i){pe(p,i),m=!1},d(i){i&&N(n),p&&p.d(i),F(),d=!1,Re(l)}}}function je(s){let e,n=[],g=new Map,u,Z,x=s[5];const m=d=>d[4](d[33]);for(let d=0;d<x.length;d+=1){let l=de(s,x,d),_=m(l);g.set(_,n[d]=le(_,l))}return{c(){e=fe("div");for(let d=0;d<n.length;d+=1)n[d].c();this.h()},l(d){e=he(d,"DIV",{"data-dnd-zone":!0,class:!0});var l=ge(e);for(let _=0;_<n.length;_+=1)n[_].l(l);l.forEach(N),this.h()},h(){L(e,"data-dnd-zone",""),L(e,"class",u=U(`${s[3]} ${s[0].containerClass}`)+" svelte-1h8tpti")},m(d,l){me(d,e,l);for(let _=0;_<n.length;_+=1)n[_].m(e,null);s[21](e),Z=!0},p(d,l){l[0]&66551&&(x=d[5],Pe(),n=We(n,l,m,1,d,x,g,e,qe,le,null,de),Xe()),(!Z||l[0]&9&&u!==(u=U(`${d[3]} ${d[0].containerClass}`)+" svelte-1h8tpti"))&&L(e,"class",u)},i(d){if(!Z){for(let l=0;l<x.length;l+=1)_e(n[l]);Z=!0}},o(d){for(let l=0;l<n.length;l+=1)pe(n[l]);Z=!1},d(d){d&&N(e);for(let l=0;l<n.length;l+=1)n[l].d();s[21](null)}}}const Je="data-dnd-zone",Ke=`[${Je}]`,ue="[data-dnd-handle]",ce=5,P=new Array;let H,r,T;const k=Be(void 0);function Qe(s,e){var g;const n=(g=document.elementFromPoint(s,e))==null?void 0:g.closest(Ke);return n?P.find(u=>u.el===n):void 0}function $e(s,e,n){let g,u;Ye(s,k,t=>n(7,u=t));let{$$slots:Z={},$$scope:x}=e,{id:m}=e,{itemCount:d}=e,{itemSize:l}=e,{type:_}=e,{priority:p=1}=e,{itemClass:O=""}=e,{zoneClass:F=""}=e,{keyFn:W=t=>t}=e,{useHandle:I=!1}=e;const i=new _(m,p,d,l),z=Ve();let q=new Array(d);Ne(()=>(i.styleContainerBaseStyle(),P.push(i),P.sort((t,a)=>a.priority-t.priority),()=>{P.splice(P.findIndex(t=>t===i),1)}));function B(t,a){t.button!==0||I&&t.target.closest(ue)===null||(document.addEventListener("mousemove",J),document.addEventListener("mouseup",$),j({pageX:t.pageX,pageY:t.pageY},a))}function G(t,a){I&&t.target.closest(ue)===null||(document.addEventListener("touchmove",K),document.addEventListener("touchend",ee),j({pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},a))}function j({pageX:t,pageY:a},o){const f=i.items[o],h=f.getBoundingClientRect();H={el:f,initPageX:t,initPageY:a,sourceIndex:o,dragLeft:t-h.left,dragTop:a-h.top,sourceZone:i}}function J(t){Q(t)}function K(t){Q({pageX:t.touches[0].pageX,pageY:t.touches[0].pageY})}function Q({pageX:t,pageY:a}){if(r===void 0&&(Math.abs(t-H.initPageX)>ce||Math.abs(a-H.initPageY)>ce)){r&&A();const o=document.createElement("div");o.style.cssText=i.placeholderStyleStr(),o.setAttribute("data-dnd-placeholder",""),i.el.appendChild(o),r={type:R.User,el:H.el,placeholder:o,resetZones:new Set([i]),sourceIndex:H.sourceIndex,hoverIndex:void 0,sourceZone:H.sourceZone,destZone:i,dragLeft:H.dragLeft,dragTop:H.dragTop,onMoveResolve:void 0},M(k,u=r,u),H=void 0,document.body.style.cursor="grabbing"}r&&(T&&cancelAnimationFrame(T),T=requestAnimationFrame(()=>{T=void 0;const o=r,{el:f,sourceZone:h,sourceIndex:S,dragLeft:y,dragTop:v}=o,b=t-y,C=a-v;let c=Qe(t,a);if(c===h){const w=c!==o.destZone;w&&o.destZone!==void 0&&o.destZone.styleDestReset();const E=c.pointIndex(t,a);(E!==o.hoverIndex||w)&&(c.styleSourceMove(E,S,o.hoverIndex!==void 0),r=Y(X({},r),{hoverIndex:E,destZone:c}),M(k,u=r,u)),f.style.cssText=`position: fixed;
						top: 0;
						left: 0;
						z-index:1000;
						pointer-events:none;
						cursor:grabbing;
						height:${h.itemHeight()}px;
						width:${h.itemWidth()}px; transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1); position:fixed; transform:translate(${b}px,${C}px)`}else{const w=c!==o.destZone;if(w&&(o.destZone===h?o.destZone.styleSourceMissing(S):o.destZone!==void 0&&o.destZone.styleDestReset()),c!==void 0){w&&o.resetZones.add(c);const E=c.pointIndex(t,a);(E!==o.hoverIndex||w)&&(c.styleDestMove(E),r=Y(X({},r),{hoverIndex:E,destZone:c}),M(k,u=r,u)),f.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; pointer-events: none; cursor:grabbing; position:fixed; height:${c.itemHeight()}px; width:${c.itemWidth()}px; transition: height 0.2s cubic-bezier(0.2, 0, 0, 1); transform:translate(${b}px,${C}px); transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}else w&&(r=Y(X({},r),{hoverIndex:-1,destZone:void 0}),M(k,u=r,u)),f.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; pointer-events:none; cursor:grabbing; position:fixed; transform:translate(${b}px,${C}px); height:${o.sourceZone.itemHeight()}px; width:${o.sourceZone.itemWidth()}px;  transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}}))}function $(t){document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",$),r&&te()}function ee(t){document.removeEventListener("touchmove",K),document.removeEventListener("touchend",ee),r&&te()}function te(){var c;T&&cancelAnimationFrame(T);const{el:t,destZone:a,sourceZone:o,sourceIndex:f}=r,h=(c=r.hoverIndex)!=null?c:f;document.body.style.cursor="",t.addEventListener("transitionend",A);let S,y,v,b,C=!1;if(a===o){let w=0,E=0;const{count:we,direction:ne}=o;h===we&&(ne===V.Vertical?E=-1:ne===V.Horizontal&&(w=-1)),S=o.dragXOffset(h+w),y=o.dragYOffset(h+E),v=o.itemHeight(),b=o.itemWidth(),C=t.style.transform===`translate(${S}px, ${y}px)`||t.style.transform===""}else a!==void 0?(S=a.dragXOffset(h,a.count+1),y=a.dragYOffset(h,a.count+1),v=a.itemHeight(),b=a.itemWidth()):(S=o.dragXOffset(f),y=o.dragYOffset(f),v=o.itemHeight(),b=o.itemWidth(),o.styleSourceMove(f,f,!0));t.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; position:fixed; height:${v}px; width:${b}px; transform:translate(${S}px,${y}px); transition:transform 0.2s cubic-bezier(0.2,0,0,1), height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`,C&&A()}function A(t){var c,w;const{el:a,destZone:o,sourceZone:f,sourceIndex:h,resetZones:S,placeholder:y}=r,v=(c=r.hoverIndex)!=null?c:h;if(t&&t.target!==a)return;T&&cancelAnimationFrame(T),T=void 0;const b={dropZoneID:f.id,index:h},C=o?o===f&&v===h?b:{dropZoneID:o.id,index:v}:void 0;z("drop",{from:b,to:C}),y&&f.el.removeChild(y),S.forEach(E=>E.styleRemove()),a.removeEventListener("transitionend",A),(w=r.onMoveResolve)==null||w.call(r),r=void 0,M(k,u=void 0,u)}async function ye(t,a,o,f=500){return new Promise((h,S)=>{if(r!==void 0){h();return}const y=i.items[t];if(!y){h();return}{const v=i.dragXOffset(t),b=i.dragYOffset(t),C=i.itemHeight(),c=i.itemWidth();y.style.cssText=`z-index:1000; height:${C}px; width:${c}px; position:fixed; transform:translate(${v}px,${b}px)`}i.styleSourceMove(t,t,!1),o!==i?(setTimeout(()=>{(r==null?void 0:r.type)===R.Programatic&&i.styleSourceMissing(t)},f*.4),o.styleDestMove(a)):setTimeout(()=>{(r==null?void 0:r.type)===R.Programatic&&i.styleSourceMove(a,t,!0)},f*.25),r={type:R.Programatic,el:y,placeholder:void 0,resetZones:new Set([i,o]),sourceIndex:t,hoverIndex:a,sourceZone:i,destZone:o,dragLeft:0,dragTop:0,onMoveResolve:h},M(k,u=r,u);{const v=o.dragXOffset(a,o.count+1),b=o.dragYOffset(a,o.count+1),C=o.itemHeight(),c=o.itemWidth();y.addEventListener("transitionend",A),y.style.cssText=`
                z-index: 1000; 
                position: fixed; 
				top:0; left: 0;
                height: ${C}px; 
                width: ${c}px; 
                transform: translate(${v}px,${b}px); 
                transition:
                    transform ${f}ms cubic-bezier(0.2, 0, 0, 1), 
                    height ${f}ms cubic-bezier(0.2, 0, 0, 1), 
                    width ${f}ms cubic-bezier(0.2, 0, 0, 1);`}})}function be(t,a){re[t?"unshift":"push"](()=>{i.items[a]=t,n(0,i),n(1,m),n(10,d),n(11,l)})}const xe=(t,a)=>B(a,t),ze=(t,a)=>G(a,t);function ve(t){re[t?"unshift":"push"](()=>{i.el=t,n(0,i),n(1,m),n(10,d),n(11,l)})}return s.$$set=t=>{"id"in t&&n(1,m=t.id),"itemCount"in t&&n(10,d=t.itemCount),"itemSize"in t&&n(11,l=t.itemSize),"type"in t&&n(12,_=t.type),"priority"in t&&n(13,p=t.priority),"itemClass"in t&&n(2,O=t.itemClass),"zoneClass"in t&&n(3,F=t.zoneClass),"keyFn"in t&&n(4,W=t.keyFn),"useHandle"in t&&n(14,I=t.useHandle),"$$scope"in t&&n(16,x=t.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&2&&n(0,i.id=m,i),s.$$.dirty[0]&3073&&(d!=i.count||l!==i.itemSize)&&(n(0,i.count=d,i),n(0,i.itemSize=l,i),n(5,q=new Array(d)),i.el&&i.styleContainerBaseStyle()),s.$$.dirty[0]&2049&&n(6,g=`${i.direction===V.Vertical?"height":"width"}: ${l}px;`)},[i,m,O,F,W,q,g,u,B,G,d,l,_,p,I,ye,x,Z,be,xe,ze,ve]}class it extends De{constructor(e){super(),He(this,e,$e,je,Te,{id:1,itemCount:10,itemSize:11,type:12,priority:13,itemClass:2,zoneClass:3,keyFn:4,useHandle:14,dropzone:0,move:15},null,[-1,-1])}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),D()}get itemCount(){return this.$$.ctx[10]}set itemCount(e){this.$$set({itemCount:e}),D()}get itemSize(){return this.$$.ctx[11]}set itemSize(e){this.$$set({itemSize:e}),D()}get type(){return this.$$.ctx[12]}set type(e){this.$$set({type:e}),D()}get priority(){return this.$$.ctx[13]}set priority(e){this.$$set({priority:e}),D()}get itemClass(){return this.$$.ctx[2]}set itemClass(e){this.$$set({itemClass:e}),D()}get zoneClass(){return this.$$.ctx[3]}set zoneClass(e){this.$$set({zoneClass:e}),D()}get keyFn(){return this.$$.ctx[4]}set keyFn(e){this.$$set({keyFn:e}),D()}get useHandle(){return this.$$.ctx[14]}set useHandle(e){this.$$set({useHandle:e}),D()}get dropzone(){return this.$$.ctx[0]}get move(){return this.$$.ctx[15]}}export{V as D,it as a};
