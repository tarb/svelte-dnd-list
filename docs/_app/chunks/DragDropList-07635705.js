var Se=Object.defineProperty,Ee=Object.defineProperties;var Te=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var re=(s,e,n)=>e in s?Se(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,X=(s,e)=>{for(var n in e||(e={}))He.call(e,n)&&re(s,n,e[n]);if(oe)for(var n of oe(e))Oe.call(e,n)&&re(s,n,e[n]);return s},N=(s,e)=>Ee(s,Te(e));import{S as Ie,i as ke,K as Ae,W as H,e as ge,k as Me,c as me,a as ye,m as Pe,d as q,b as k,X as B,g as pe,J as Re,N as de,G as Fe,H as Ue,I as We,q as _e,o as be,Y as Ye,n as Xe,Z as Ne,p as Ve,_ as qe,$ as Be,v as je,F as Ge,a0 as Je,a1 as M,U as ae}from"./index-f8022b9b.js";import{w as Ke}from"./index-0051cdc5.js";var V=(s=>(s[s.Vertical=0]="Vertical",s[s.Horizontal=1]="Horizontal",s))(V||{}),L=(s=>(s[s.Programatic=0]="Programatic",s[s.UserDrag=1]="UserDrag",s[s.UserCopy=2]="UserCopy",s))(L||{});function le(s,e,n){const m=s.slice();return m[34]=e[n],m[35]=e,m[36]=n,m}const Qe=s=>({index:s[0]&32,drag:s[0]&130}),ue=s=>{var e,n,m,c;return{index:s[36],drag:((n=(e=s[7])==null?void 0:e.sourceZone)==null?void 0:n.id)===s[1]||((c=(m=s[7])==null?void 0:m.destZone)==null?void 0:c.id)===s[1]?s[7]:void 0}};function ce(s,e){let n,m,c,S,Z=e[36],y,l,u;const b=e[20].default,x=Ge(b,e,e[19],ue),F=()=>e[21](n,Z),U=()=>e[21](null,Z);function Y(...g){return e[22](e[36],...g)}function P(...g){return e[23](e[36],...g)}return{key:s,first:null,c(){n=ge("div"),x&&x.c(),m=Me(),this.h()},l(g){n=me(g,"DIV",{"data-dnd-item":!0,"data-dnd-dragging":!0,class:!0,style:!0});var z=ye(n);x&&x.l(z),m=Pe(z),z.forEach(q),this.h()},h(){k(n,"data-dnd-item",""),k(n,"data-dnd-dragging",c=(i==null?void 0:i.sourceIndex)===e[36]&&(i==null?void 0:i.sourceZone.id)===e[1]||e[7]===null?!0:void 0),k(n,"class",S=B(e[2])+" svelte-1n86rd9"),k(n,"style",e[6]),this.first=n},m(g,z){pe(g,n,z),x&&x.m(n,null),Re(n,m),F(),y=!0,l||(u=[de(n,"mousedown",Y),de(n,"touchstart",P)],l=!0)},p(g,z){e=g,x&&x.p&&(!y||z[0]&524450)&&Fe(x,b,e,e[19],y?We(b,e[19],z,Qe):Ue(e[19]),ue),(!y||z[0]&162&&c!==(c=(i==null?void 0:i.sourceIndex)===e[36]&&(i==null?void 0:i.sourceZone.id)===e[1]||e[7]===null?!0:void 0))&&k(n,"data-dnd-dragging",c),(!y||z[0]&4&&S!==(S=B(e[2])+" svelte-1n86rd9"))&&k(n,"class",S),(!y||z[0]&64)&&k(n,"style",e[6]),Z!==e[36]&&(U(),Z=e[36],F())},i(g){y||(_e(x,g),y=!0)},o(g){be(x,g),y=!1},d(g){g&&q(n),x&&x.d(g),U(),l=!1,Ye(u)}}}function $e(s){let e,n=[],m=new Map,c,S,Z=s[5];const y=l=>l[4](l[36]);for(let l=0;l<Z.length;l+=1){let u=le(s,Z,l),b=y(u);m.set(b,n[l]=ce(b,u))}return{c(){e=ge("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=me(l,"DIV",{"data-dnd-zone":!0,class:!0});var u=ye(e);for(let b=0;b<n.length;b+=1)n[b].l(u);u.forEach(q),this.h()},h(){k(e,"data-dnd-zone",""),k(e,"class",c=B(`${s[3]} ${s[0].containerClass}`)+" svelte-1n86rd9")},m(l,u){pe(l,e,u);for(let b=0;b<n.length;b+=1)n[b].m(e,null);s[24](e),S=!0},p(l,u){u[0]&525303&&(Z=l[5],Xe(),n=Ne(n,u,y,1,l,Z,m,e,Je,ce,null,le),Ve()),(!S||u[0]&9&&c!==(c=B(`${l[3]} ${l[0].containerClass}`)+" svelte-1n86rd9"))&&k(e,"class",c)},i(l){if(!S){for(let u=0;u<Z.length;u+=1)_e(n[u]);S=!0}},o(l){for(let u=0;u<n.length;u+=1)be(n[u]);S=!1},d(l){l&&q(e);for(let u=0;u<n.length;u+=1)n[u].d();s[24](null)}}}const et="data-dnd-zone",tt=`[${et}]`,fe="[data-dnd-handle]",nt="data-dnd-copy",st="data-dnd-placeholder",he=5,W=new Array;let O,i,I;const A=Ke(void 0);function it(s,e){var m;const n=(m=document.elementFromPoint(s,e))==null?void 0:m.closest(tt);return n?W.find(c=>c.el===n):void 0}function ot(s,e,n){let m,c;qe(s,A,t=>n(7,c=t));let{$$slots:S={},$$scope:Z}=e,{id:y}=e,{itemCount:l}=e,{itemSize:u}=e,{type:b}=e,{priority:x=1}=e,{itemClass:F=""}=e,{zoneClass:U=""}=e,{keyFn:Y=t=>t}=e,{useHandle:P=!1}=e,{allowDrag:g=()=>!0}=e,{copy:z=!1}=e;const r=new b(y,x,l,u),xe=Be();let j=new Array(l);je(()=>(r.styleContainerBaseStyle(),W.push(r),W.sort((t,o)=>o.priority-t.priority),()=>{W.splice(W.findIndex(t=>t===r),1)}));function G(t,o){t.button!==0||!g(o)||P&&t.target.closest(fe)===null||(document.addEventListener("mousemove",Q),document.addEventListener("mouseup",te),K({pageX:t.pageX,pageY:t.pageY},o))}function J(t,o){!g(o)||P&&t.target.closest(fe)===null||(document.addEventListener("touchmove",$),document.addEventListener("touchend",ne),K({pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},o))}function K({pageX:t,pageY:o},a){const d=r.items[a],f=d.getBoundingClientRect();O={el:d,initPageX:t,initPageY:o,sourceIndex:a,dragLeft:t-f.left,dragTop:o-f.top,sourceZone:r}}function Q(t){ee(t)}function $(t){ee({pageX:t.touches[0].pageX,pageY:t.touches[0].pageY})}function ee({pageX:t,pageY:o}){if(i===void 0&&(Math.abs(t-O.initPageX)>he||Math.abs(o-O.initPageY)>he)){i&&R();const a=new Set([r]);let d,f,p;z?(p=L.UserCopy,f=O.el.cloneNode(!0),f.setAttribute(nt,""),document.body.appendChild(f)):(p=L.UserDrag,f=O.el,d=document.createElement("div"),d.style.cssText=r.placeholderStyleStr(),d.setAttribute(st,""),r.el.appendChild(d)),i={type:p,el:f,placeholder:d,resetZones:a,sourceIndex:O.sourceIndex,hoverIndex:void 0,sourceZone:O.sourceZone,destZone:r,dragLeft:O.dragLeft,dragTop:O.dragTop,onResolve:void 0},M(A,c=i,c),O=void 0,document.body.style.cursor="grabbing"}if(i){I&&cancelAnimationFrame(I);const a=()=>{I=void 0;const d=i,{el:f,sourceZone:p,sourceIndex:_,dragLeft:w,dragTop:C}=d,v=t-w,E=o-C;let h=it(t,o);if(h===p){const D=h!==d.destZone;D&&d.destZone!==void 0&&d.destZone.styleDestReset();const T=h.pointIndex(t,o);d.type===L.UserDrag&&(T!==d.hoverIndex||D)&&(h.styleSourceMove(T,_,d.hoverIndex!==void 0),i=N(X({},i),{hoverIndex:T,destZone:h}),M(A,c=i,c)),f.style.cssText=`position: fixed;
						top: 0;
						left: 0;
						z-index:1000;
						pointer-events:none;
						cursor:grabbing;
						height:${p.itemHeight()}px;
						width:${p.itemWidth()}px; transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1); position:fixed; transform:translate(${v}px,${E}px)`}else{const D=h!==d.destZone;if(D&&(d.type===L.UserDrag&&d.destZone===p?d.destZone.styleSourceMissing(_):d.destZone!==void 0&&d.destZone.styleDestReset()),h!==void 0){D&&d.resetZones.add(h);const T=h.pointIndex(t,o);(T!==d.hoverIndex||D)&&(h.styleDestMove(T),i=N(X({},i),{hoverIndex:T,destZone:h}),M(A,c=i,c)),f.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; pointer-events: none; cursor:grabbing; position:fixed; height:${h.itemHeight()}px; width:${h.itemWidth()}px; transition: height 0.2s cubic-bezier(0.2, 0, 0, 1); transform:translate(${v}px,${E}px); transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}else D&&(i=N(X({},i),{hoverIndex:-1,destZone:void 0}),M(A,c=i,c)),f.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; pointer-events:none; cursor:grabbing; position:fixed; transform:translate(${v}px,${E}px); height:${d.sourceZone.itemHeight()}px; width:${d.sourceZone.itemWidth()}px;  transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}h==null||h.scrollContainer(t,o),I=requestAnimationFrame(a)};I=requestAnimationFrame(a)}}function te(t){document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",te),i&&se()}function ne(t){document.removeEventListener("touchmove",$),document.removeEventListener("touchend",ne),i&&se()}function se(){var h;I&&cancelAnimationFrame(I);const{el:t,destZone:o,sourceZone:a,sourceIndex:d,type:f}=i,p=(h=i.hoverIndex)!=null?h:d;document.body.style.cursor="",t.addEventListener("transitionend",R);let _,w,C,v,E=!1;if(o===a&&f!==L.UserCopy){let D=0,T=0;const{count:Le,direction:ie}=a;p===Le&&(ie===V.Vertical?T=-1:ie===V.Horizontal&&(D=-1)),_=a.dragXOffset(p+D),w=a.dragYOffset(p+T),C=a.itemHeight(),v=a.itemWidth(),E=t.style.transform===`translate(${_}px, ${w}px)`||t.style.transform===""}else o!==void 0&&o!==a?(_=o.dragXOffset(p,o.count+1),w=o.dragYOffset(p,o.count+1),C=o.itemHeight(),v=o.itemWidth()):(_=a.dragXOffset(d),w=a.dragYOffset(d),C=a.itemHeight(),v=a.itemWidth(),f!==L.UserCopy&&a.styleSourceMove(d,d,!0));t.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; position:fixed; height:${C}px; width:${v}px; transform:translate(${_}px,${w}px); transition:transform 0.2s cubic-bezier(0.2,0,0,1), height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`,E&&R()}function R(t){var h,D;const{el:o,destZone:a,sourceZone:d,sourceIndex:f,resetZones:p,placeholder:_,type:w}=i,C=(h=i.hoverIndex)!=null?h:f;if(o&&w===L.UserCopy&&o.remove(),t&&t.target!==o)return;I&&cancelAnimationFrame(I),I=void 0;const v={dropZoneID:d.id,index:f},E=a?a===d&&C===f?v:{dropZoneID:a.id,index:C}:void 0;xe("drop",{from:v,to:E}),_&&d.el.removeChild(_),p.forEach(T=>T.styleRemove()),o.removeEventListener("transitionend",R),(D=i.onResolve)==null||D.call(i),i=void 0,M(A,c=void 0,c)}async function ze(t,o,a,d=500){return new Promise((f,p)=>{if(i!==void 0){f();return}const _=r.items[t];if(!_){f();return}{const w=r.dragXOffset(t),C=r.dragYOffset(t),v=r.itemHeight(),E=r.itemWidth();_.style.cssText=`z-index:1000; height:${v}px; width:${E}px; position:fixed; transform:translate(${w}px,${C}px)`}r.styleSourceMove(t,t,!1),a!==r?(setTimeout(()=>{(i==null?void 0:i.type)===L.Programatic&&r.styleSourceMissing(t)},d*.4),a.styleDestMove(o)):setTimeout(()=>{(i==null?void 0:i.type)===L.Programatic&&r.styleSourceMove(o,t,!0)},d*.25),i={type:L.Programatic,el:_,placeholder:void 0,resetZones:new Set([r,a]),sourceIndex:t,hoverIndex:o,sourceZone:r,destZone:a,dragLeft:0,dragTop:0,onResolve:f},M(A,c=i,c);{const w=a.dragXOffset(o,a.count+1),C=a.dragYOffset(o,a.count+1),v=a.itemHeight(),E=a.itemWidth();_.addEventListener("transitionend",R),_.style.cssText=`
                z-index: 1000; 
                position: fixed; 
				top:0; left: 0;
                height: ${v}px; 
                width: ${E}px; 
                transform: translate(${w}px,${C}px); 
                transition:
                    transform ${d}ms cubic-bezier(0.2, 0, 0, 1), 
                    height ${d}ms cubic-bezier(0.2, 0, 0, 1), 
                    width ${d}ms cubic-bezier(0.2, 0, 0, 1);`}})}async function we(t,o=500){return new Promise((a,d)=>{if(i!==void 0){a();return}const f=r.items[t];if(!f){a();return}f.style.cssText=`height:${r.itemHeight()}px; width:${r.itemWidth()}px; position:fixed; opacity: 1;`,r.styleSourceMove(t,t,!1),setTimeout(()=>{(i==null?void 0:i.type)===L.Programatic&&r.styleSourceMissing(t)},o*.4),i={type:L.Programatic,el:f,placeholder:void 0,resetZones:new Set([r]),sourceIndex:t,hoverIndex:t,sourceZone:r,destZone:void 0,dragLeft:0,dragTop:0,onResolve:a},M(A,c=i,c);{const p=r.dragXOffset(t,r.count+1),_=r.dragYOffset(t,r.count+1),w=r.itemHeight(),C=r.itemWidth();f.addEventListener("transitionend",R),f.style.cssText=`
                position: fixed; 
				top:0; left: 0;
                height: ${w}px; 
                width: ${C}px; 
				opacity: 0.6;
                transform: translate(${p}px,${_}px); 
                transition:
					opacity ${o}ms cubic-bezier(0.2, 0, 0, 1);
                    transform ${o}ms cubic-bezier(0.2, 0, 0, 1), 
                    height ${o}ms cubic-bezier(0.2, 0, 0, 1), 
                    width ${o}ms cubic-bezier(0.2, 0, 0, 1);`}})}function Ce(t,o){ae[t?"unshift":"push"](()=>{r.items[o]=t,n(0,r),n(1,y),n(10,l),n(11,u)})}const ve=(t,o)=>G(o,t),Ze=(t,o)=>J(o,t);function De(t){ae[t?"unshift":"push"](()=>{r.el=t,n(0,r),n(1,y),n(10,l),n(11,u)})}return s.$$set=t=>{"id"in t&&n(1,y=t.id),"itemCount"in t&&n(10,l=t.itemCount),"itemSize"in t&&n(11,u=t.itemSize),"type"in t&&n(12,b=t.type),"priority"in t&&n(13,x=t.priority),"itemClass"in t&&n(2,F=t.itemClass),"zoneClass"in t&&n(3,U=t.zoneClass),"keyFn"in t&&n(4,Y=t.keyFn),"useHandle"in t&&n(14,P=t.useHandle),"allowDrag"in t&&n(15,g=t.allowDrag),"copy"in t&&n(16,z=t.copy),"$$scope"in t&&n(19,Z=t.$$scope)},s.$$.update=()=>{s.$$.dirty[0]&2&&n(0,r.id=y,r),s.$$.dirty[0]&3073&&(l!=r.count||u!==r.itemSize)&&(n(0,r.count=l,r),n(0,r.itemSize=u,r),n(5,j=new Array(l)),r.el&&r.styleContainerBaseStyle()),s.$$.dirty[0]&2049&&n(6,m=`${r.direction===V.Vertical?"height":"width"}: ${u}px;`)},[r,y,F,U,Y,j,m,c,G,J,l,u,b,x,P,g,z,ze,we,Z,S,Ce,ve,Ze,De]}class lt extends Ie{constructor(e){super(),ke(this,e,ot,$e,Ae,{id:1,itemCount:10,itemSize:11,type:12,priority:13,itemClass:2,zoneClass:3,keyFn:4,useHandle:14,allowDrag:15,copy:16,dropzone:0,move:17,remove:18},null,[-1,-1])}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),H()}get itemCount(){return this.$$.ctx[10]}set itemCount(e){this.$$set({itemCount:e}),H()}get itemSize(){return this.$$.ctx[11]}set itemSize(e){this.$$set({itemSize:e}),H()}get type(){return this.$$.ctx[12]}set type(e){this.$$set({type:e}),H()}get priority(){return this.$$.ctx[13]}set priority(e){this.$$set({priority:e}),H()}get itemClass(){return this.$$.ctx[2]}set itemClass(e){this.$$set({itemClass:e}),H()}get zoneClass(){return this.$$.ctx[3]}set zoneClass(e){this.$$set({zoneClass:e}),H()}get keyFn(){return this.$$.ctx[4]}set keyFn(e){this.$$set({keyFn:e}),H()}get useHandle(){return this.$$.ctx[14]}set useHandle(e){this.$$set({useHandle:e}),H()}get allowDrag(){return this.$$.ctx[15]}set allowDrag(e){this.$$set({allowDrag:e}),H()}get copy(){return this.$$.ctx[16]}set copy(e){this.$$set({copy:e}),H()}get dropzone(){return this.$$.ctx[0]}get move(){return this.$$.ctx[17]}get remove(){return this.$$.ctx[18]}}export{lt as D,V as a};
