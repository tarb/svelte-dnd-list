var be=Object.defineProperty,_e=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var $=(i,t,e)=>t in i?be(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,A=(i,t)=>{for(var e in t||(t={}))ze.call(t,e)&&$(i,e,t[e]);if(Q)for(var e of Q(t))ve.call(t,e)&&$(i,e,t[e]);return i},W=(i,t)=>_e(i,xe(t));import{S as we,i as Se,K as Ce,e as re,k as De,c as le,a as ae,m as Ze,d as X,b as L,W as F,g as de,J as Te,N as ee,G as Le,H as Me,I as Ee,r as ce,p as ue,X as Ie,o as Ye,Y as He,q as Oe,w as ke,F as Re,Z as Be,U as te}from"./index-3d005263.js";var Y=(i=>(i[i.Vertical=0]="Vertical",i[i.Horizontal=1]="Horizontal",i))(Y||{}),I=(i=>(i[i.Programatic=0]="Programatic",i[i.User=1]="User",i))(I||{});function ne(i,t,e){const r=i.slice();return r[30]=t[e],r[31]=t,r[32]=e,r}const Ae=i=>({index:i[0]&128,drag:i[0]&194}),ie=i=>{var t;return{index:i[32],drag:((t=i[6])==null?void 0:t.sourceIndex)===i[32]&&i[6].sourceZone.id===i[1]?i[6]:void 0}};function se(i,t){let e,r,d,h,l=t[32],g,c,a;const _=t[17].default,p=Re(_,t,t[16],ie),H=()=>t[18](e,l),O=()=>t[18](null,l);function M(...s){return t[19](t[32],...s)}function u(...s){return t[20](t[32],...s)}return{key:i,first:null,c(){e=re("div"),p&&p.c(),r=De(),this.h()},l(s){e=le(s,"DIV",{"data-dnditem":!0,class:!0,style:!0});var C=ae(e);p&&p.l(C),r=Ze(C),C.forEach(X),this.h()},h(){var s;L(e,"data-dnditem",""),L(e,"class",d=F(`${t[3]} ${((s=t[6])==null?void 0:s.sourceIndex)===t[32]?`dragging ${t[6].type===I.User?"user":"prog"}`:""}`)+" svelte-5pq4xz"),L(e,"style",h=`${t[0].direction===Y.Vertical?"height":"width"}: ${t[2]}px;`),this.first=e},m(s,C){de(s,e,C),p&&p.m(e,null),Te(e,r),H(),g=!0,c||(a=[ee(e,"mousedown",M),ee(e,"touchstart",u)],c=!0)},p(s,C){var k;t=s,p&&p.p&&(!g||C[0]&65730)&&Le(p,_,t,t[16],g?Ee(_,t[16],C,Ae):Me(t[16]),ie),(!g||C[0]&200&&d!==(d=F(`${t[3]} ${((k=t[6])==null?void 0:k.sourceIndex)===t[32]?`dragging ${t[6].type===I.User?"user":"prog"}`:""}`)+" svelte-5pq4xz"))&&L(e,"class",d),(!g||C[0]&5&&h!==(h=`${t[0].direction===Y.Vertical?"height":"width"}: ${t[2]}px;`))&&L(e,"style",h),l!==t[32]&&(O(),l=t[32],H())},i(s){g||(ce(p,s),g=!0)},o(s){ue(p,s),g=!1},d(s){s&&X(e),p&&p.d(s),O(),c=!1,Ie(a)}}}function We(i){let t,e=[],r=new Map,d,h,l=i[7];const g=c=>c[5](c[32]);for(let c=0;c<l.length;c+=1){let a=ne(i,l,c),_=g(a);r.set(_,e[c]=se(_,a))}return{c(){t=re("div");for(let c=0;c<e.length;c+=1)e[c].c();this.h()},l(c){t=le(c,"DIV",{"data-dndzone":!0,class:!0});var a=ae(t);for(let _=0;_<e.length;_+=1)e[_].l(a);a.forEach(X),this.h()},h(){L(t,"data-dndzone",""),L(t,"class",d=F(`${i[4]} ${i[0].containerClass}`)+" svelte-5pq4xz")},m(c,a){de(c,t,a);for(let _=0;_<e.length;_+=1)e[_].m(t,null);i[21](t),h=!0},p(c,a){a[0]&66543&&(l=c[7],Ye(),e=He(e,a,g,1,c,l,r,t,Be,se,null,ne),Oe()),(!h||a[0]&17&&d!==(d=F(`${c[4]} ${c[0].containerClass}`)+" svelte-5pq4xz"))&&L(t,"class",d)},i(c){if(!h){for(let a=0;a<l.length;a+=1)ce(e[a]);h=!0}},o(c){for(let a=0;a<e.length;a+=1)ue(e[a]);h=!1},d(c){c&&X(t);for(let a=0;a<e.length;a+=1)e[a].d();i[21](null)}}}const oe="[data-dndhandle]",E=new Array;let B=!1,Z;function Xe(i,t){for(let e=0;e<E.length;++e){const r=E[e];if(r.insideBounding(i,t))return r}}function Fe(i,t,e){let{$$slots:r={},$$scope:d}=t,{id:h}=t,{itemCount:l}=t,{itemSize:g}=t,{type:c}=t,{onDrop:a}=t,{priority:_=1}=t,{itemClass:p=""}=t,{zoneClass:H=""}=t,{keyFn:O=n=>n}=t,{useHandle:M=!1}=t;const u=new c(h,_,l,g);let s,C=new Array(l);ke(()=>(u.styleContainerBaseStyle(),E.push(u),E.sort((n,f)=>f.priority-n.priority),()=>{E.splice(E.findIndex(n=>n===u),1)}));function k(n,f){n.button!==0||M&&n.target.closest(oe)===null||(document.addEventListener("mousemove",V),document.addEventListener("mouseup",j),document.body.style.cursor="grabbing",P({pageX:n.pageX,pageY:n.pageY},f),V(n))}function U(n,f){M&&n.target.closest(oe)===null||(document.addEventListener("touchmove",q),document.addEventListener("touchend",G),P({pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},f),q(n))}function P(n,f){B=!0;const o=u.items[f],m=o.getBoundingClientRect(),y=document.createElement("div");y.style.cssText=u.placeholderStyleStr(),y.setAttribute("data-dndplaceholder",""),u.el.appendChild(y),s!==void 0&&R(),e(6,s={type:I.User,el:o,placeholder:y,resetZones:new Set([u]),sourceIndex:f,hoverIndex:void 0,sourceZone:u,destZone:u,bounding:{dragLeft:n.pageX-m.left,dragTop:n.pageY-m.top,left:m.left,top:m.top,bottom:m.bottom,right:m.right,height:m.height,width:m.width},onMoveResolve:void 0})}function V(n){N(n)}function q(n){N({pageX:n.touches[0].pageX,pageY:n.touches[0].pageY})}function N({pageX:n,pageY:f}){B&&(Z&&cancelAnimationFrame(Z),Z=requestAnimationFrame(()=>{Z=void 0;const o=s,{el:m,sourceZone:y,sourceIndex:D,bounding:x}=o,S=n-x.dragLeft,z=f-x.dragTop;let b=Xe(n,f);if(b===y){const v=b!==o.destZone;v&&o.destZone!==void 0&&o.destZone.styleDestReset();const w=b.pointIndex(n,f);(w!==o.hoverIndex||v)&&(b.styleSourceMove(w,D,o.hoverIndex!==void 0),e(6,s=W(A({},s),{hoverIndex:w,destZone:b}))),m.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; pointer-events:none; cursor:grabbing; height:${y.itemHeight()}px; width:${y.itemWidth()}px; transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1); position:fixed; transform:translate(${S}px,${z}px)`}else{const v=b!==o.destZone;if(v&&(o.destZone===y?o.destZone.styleSourceMissing(D):o.destZone!==void 0&&o.destZone.styleDestReset()),b!==void 0){v&&o.resetZones.add(b);const w=b.pointIndex(n,f);(w!==o.hoverIndex||v)&&(b.styleDestMove(w),e(6,s=W(A({},s),{hoverIndex:w,destZone:b}))),m.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; pointer-events: none; cursor:grabbing; position:fixed; height:${b.itemHeight()}px; width:${b.itemWidth()}px; transition: height 0.2s cubic-bezier(0.2, 0, 0, 1); transform:translate(${S}px,${z}px); transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}else v&&e(6,s=W(A({},s),{hoverIndex:-1,destZone:void 0})),m.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; pointer-events:none; cursor:grabbing; position:fixed; transform:translate(${S}px,${z}px); height:${o.sourceZone.itemHeight()}px; width:${o.sourceZone.itemWidth()}px;  transition:height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`}}))}function j(n){!B||(document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",j),document.body.style.cursor="",J())}function G(n){!B||(document.removeEventListener("touchmove",q),document.removeEventListener("touchend",G),J())}function J(){var v;B=!1,Z&&cancelAnimationFrame(Z);const{el:n,destZone:f,sourceZone:o,sourceIndex:m}=s,y=(v=s.hoverIndex)!=null?v:m;n.addEventListener("transitionend",R);let D,x,S,z,b=!1;if(f===o){let w=0,T=0;const{count:ye,direction:K}=o;y===ye&&(K===Y.Vertical?T=-1:K===Y.Horizontal&&(w=-1)),D=o.dragXOffset(y+w),x=o.dragYOffset(y+T),S=o.itemHeight(),z=o.itemWidth(),b=n.style.transform===`translate(${D}px, ${x}px)`||n.style.transform===""}else f!==void 0?(D=f.dragXOffset(y,f.count+1),x=f.dragYOffset(y,f.count+1),S=f.itemHeight(),z=f.itemWidth()):(D=o.dragXOffset(m),x=o.dragYOffset(m),S=o.itemHeight(),z=o.itemWidth(),o.styleSourceMove(m,m,!0));n.style.cssText=`position: fixed; top: 0; left: 0; z-index:1000; position:fixed; height:${S}px; width:${z}px; transform:translate(${D}px,${x}px); transition:transform 0.2s cubic-bezier(0.2,0,0,1), height 0.2s cubic-bezier(0.2, 0, 0, 1), width 0.2s cubic-bezier(0.2, 0, 0, 1);`,b&&R()}function R(n){var v,w;const{el:f,destZone:o,sourceZone:m,sourceIndex:y,resetZones:D,placeholder:x}=s,S=(v=s.hoverIndex)!=null?v:y;if(n&&n.target!==f)return;Z&&cancelAnimationFrame(Z),Z=void 0;const z={dropZoneID:m.id,index:y},b=o?{dropZoneID:o.id,index:S}:void 0;a({from:z,to:b}),m.el.removeChild(x),D.forEach(T=>T.styleRemove()),f.removeEventListener("transitionend",R),(w=s.onMoveResolve)==null||w.call(s),e(6,s=void 0)}async function fe(n,f,o,m=500){return new Promise((y,D)=>{if(s!==void 0){y();return}const x=u.items[n];if(!x){y();return}{const b=u.dragXOffset(n),v=u.dragYOffset(n),w=u.itemHeight(),T=u.itemWidth();x.style.cssText=`z-index:1000; height:${w}px; width:${T}px; position:fixed; transform:translate(${b}px,${v}px)`}const S=document.createElement("div");S.style.cssText=u.placeholderStyleStr(),S.setAttribute("data-dndplaceholder",""),u.el.appendChild(S),u.styleSourceMove(n,n,!1),setTimeout(()=>{(s==null?void 0:s.type)===I.Programatic&&u.styleSourceMissing(n)},m*.4),o.styleDestMove(f);const z=x.getBoundingClientRect();e(6,s={type:I.Programatic,el:x,placeholder:S,resetZones:new Set([u,o]),sourceIndex:n,hoverIndex:f,sourceZone:u,destZone:o,bounding:{dragLeft:0,dragTop:0,left:z.left,top:z.top,bottom:z.bottom,right:z.right,height:z.height,width:z.width},onMoveResolve:y});{const b=o.dragXOffset(f,o.count+1),v=o.dragYOffset(f,o.count+1),w=o.itemHeight(),T=o.itemWidth();x.style.cssText=`
                z-index: 1000; 
                position: fixed; 
				top:0; left: 0;
                height: ${w}px; 
                width: ${T}px; 
                transform: translate(${b}px,${v}px); 
                transition:
                    transform ${m}ms cubic-bezier(0.2, 0, 0, 1), 
                    height ${m}ms cubic-bezier(0.2, 0, 0, 1), 
                    width ${m}ms cubic-bezier(0.2, 0, 0, 1);`}x.addEventListener("transitionend",R)})}function he(n,f){te[n?"unshift":"push"](()=>{u.items[f]=n,e(0,u),e(1,h),e(10,l),e(2,g)})}const me=(n,f)=>k(f,n),ge=(n,f)=>U(f,n);function pe(n){te[n?"unshift":"push"](()=>{u.el=n,e(0,u),e(1,h),e(10,l),e(2,g)})}return i.$$set=n=>{"id"in n&&e(1,h=n.id),"itemCount"in n&&e(10,l=n.itemCount),"itemSize"in n&&e(2,g=n.itemSize),"type"in n&&e(11,c=n.type),"onDrop"in n&&e(12,a=n.onDrop),"priority"in n&&e(13,_=n.priority),"itemClass"in n&&e(3,p=n.itemClass),"zoneClass"in n&&e(4,H=n.zoneClass),"keyFn"in n&&e(5,O=n.keyFn),"useHandle"in n&&e(14,M=n.useHandle),"$$scope"in n&&e(16,d=n.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&2&&e(0,u.id=h,u),i.$$.dirty[0]&1029&&(l!=u.count||g!==u.itemSize)&&(e(0,u.count=l,u),e(0,u.itemSize=g,u),e(7,C=new Array(l)),u.el&&u.styleContainerBaseStyle())},[u,h,g,p,H,O,s,C,k,U,l,c,a,_,M,fe,d,r,he,me,ge,pe]}class Ue extends we{constructor(t){super(),Se(this,t,Fe,We,Ce,{id:1,itemCount:10,itemSize:2,type:11,onDrop:12,priority:13,itemClass:3,zoneClass:4,keyFn:5,useHandle:14,dropzone:0,move:15},null,[-1,-1])}get dropzone(){return this.$$.ctx[0]}get move(){return this.$$.ctx[15]}}class Pe{constructor(t,e,r,d){this.direction=Y.Vertical,this.id=t,this.priority=r,this.count=e,this.itemSize=d,this.items=new Array(e),this.el=void 0,this.containerClass="vertical"}insideBounding(t,e){const r=this.el;let d=0,h=0;for(let p=r;p;p=p.parentElement)h+=p.scrollLeft,d+=p.scrollTop;const l=r.getBoundingClientRect(),g=l.left+h,c=l.right+h,a=l.top+d,_=l.bottom+d;return e>a&&e<_&&t>g&&t<c}pointIndex(t,e){const{el:r,itemSize:d,count:h}=this,g=r.getBoundingClientRect().top-r.scrollTop+window.scrollY,c=Math.floor((e-g)/d);return Math.min(Math.max(c,0),h)}placeholderStyleStr(){return`height: ${this.itemSize}px; width: 100%;`}dragXOffset(t){return this.el.getBoundingClientRect().left}dragYOffset(t){const e=this.el.getBoundingClientRect();return t*this.itemSize+e.top}itemHeight(){return this.itemSize}itemWidth(){return this.el.clientWidth}styleSourceMove(t,e,r){const{items:d,itemSize:h}=this;for(let l=0;l<d.length;++l){const g=t>e&&(l<e||l>e&&l<=t)||t<e&&l<t||t==e&&l<e,c=t>e&&l>t||t<e&&(l>=t&&l<e||l>e)||t==e&&l>e,a=d[l];g?a&&(a.style.cssText=`transform: translateY(0px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${h}px;`):c&&(r?a&&(a.style.cssText=`transform: translateY(${h}px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${h}px;`):a&&(a.style.cssText=`transform: translateY(${h}px); height: ${h}px;`))}}styleSourceMissing(t){const{items:e,itemSize:r}=this;for(let d=0;d<e.length;++d)e[d]&&d!==t&&(e[d].style.cssText=`transform: translateY(0px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${r}px;`)}styleDestMove(t){const{items:e,itemSize:r}=this;for(let d=0;d<e.length;++d){const h=e[d];d<t?h&&(h.style.cssText=`transform: translateY(0px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${r}px;`):h&&(h.style.cssText=`transform: translateY(${r}px); transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${r}px;`)}}styleDestReset(){const{items:t,itemSize:e}=this;for(let r=0;r<t.length;++r)t[r]&&(t[r].style.cssText=`transform:translateY(0px); transition:transform 0.2s cubic-bezier(0.2, 0, 0, 1); height: ${e}px;`)}styleRemove(){this.styleContainerBaseStyle()}styleContainerBaseStyle(){const{items:t,itemSize:e}=this;for(let r=0;r<t.length;++r){const d=t[r];d&&(d.style.cssText=`height: ${e}px;`)}}}export{Y as D,Pe as V,Ue as a};
